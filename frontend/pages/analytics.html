<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Analytics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ================= GLOBAL CSS ================= -->
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="stylesheet" href="/assets/css/sidebar.css" />
  <link rel="stylesheet" href="/assets/css/analytics.css" />

  <!-- ================= BOOTSTRAP ================= -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- ================= CHART.JS ================= -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<section class="container-fluid">

  <!-- ================= HEADER ================= -->
  <div class="mb-4">
    <h4 class="mb-1">Analytics</h4>
    <small class="text-muted">Organization insights & metrics</small>
  </div>

  <!-- ================= TABS ================= -->
  <ul class="nav nav-tabs" id="analyticsTabs" role="tablist">

    <!-- BENCH -->
    <li class="nav-item" role="presentation">
      <button
        class="nav-link active"
        id="bench-tab"
        data-bs-toggle="tab"
        data-bs-target="#benchTab"
        type="button"
        role="tab"
        aria-controls="benchTab"
        aria-selected="true"
      >
        Bench Analytics
      </button>
    </li>

    <!-- CV -->
    <li class="nav-item" role="presentation">
      <button
        class="nav-link"
        id="cv-tab"
        data-bs-toggle="tab"
        data-bs-target="#cvTab"
        type="button"
        role="tab"
        aria-controls="cvTab"
        aria-selected="false"
      >
        CV Repository
      </button>
    </li>

    <!-- UTILIZATION -->
    <li class="nav-item" role="presentation">
      <button
        class="nav-link"
        id="util-tab"
        data-bs-toggle="tab"
        data-bs-target="#utilTab"
        type="button"
        role="tab"
        aria-controls="utilTab"
        aria-selected="false"
      >
        Utilization
      </button>
    </li>

    <!-- EXECUTIVE -->
    <li class="nav-item" role="presentation">
      <button
        class="nav-link"
        id="exec-tab"
        data-bs-toggle="tab"
        data-bs-target="#execTab"
        type="button"
        role="tab"
        aria-controls="execTab"
        aria-selected="false"
      >
        Executive
      </button>
    </li>

  </ul>

  <!-- ================= TAB CONTENT ================= -->
  <div class="tab-content border border-top-0 p-4 bg-white">

    <!-- =================================================
         BENCH ANALYTICS
    ================================================== -->
    <div
      class="tab-pane fade show active"
      id="benchTab"
      role="tabpanel"
      aria-labelledby="bench-tab"
    >

      <!-- KPI SUMMARY -->
      <div id="benchSummary" class="row g-3 mb-4"></div>

      <!-- BENCH BURN TREND -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <h6 class="mb-3">Bench Burn Trend</h6>
              <div class="chart-wrapper">
                <canvas id="benchBurnTrendChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- AGING + EMPLOYEE LIST -->
      <div class="row g-4">

        <!-- BENCH AGING -->
        <div class="col-md-5">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="mb-3">Bench Aging Distribution</h6>
              <div class="chart-wrapper chart-wrapper--small">
                <canvas id="benchAgingChart"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- EMPLOYEE LIST -->
        <div class="col-md-7">
          <div class="card h-100">
            <div class="card-body">
              <h6 class="mb-3">Employees on Bench</h6>
              <div id="benchEmployeeList"></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- =================================================
         CV REPOSITORY
    ================================================== -->
    <div
      class="tab-pane fade"
      id="cvTab"
      role="tabpanel"
      aria-labelledby="cv-tab"
    >

      <!-- FILTER BAR -->
      <div class="d-flex flex-wrap gap-2 mb-3 align-items-center">
        <select aria-label="select"
          id="skillFilter"
          class="form-select form-select-sm"
          style="min-width:220px"
        >
          <option value="">All Skills</option>
        </select>

        <div class="ms-auto text-muted small">
          Filter CVs by primary skill
        </div>
      </div>

      <!-- CV LIST -->
      <div id="cvRepository"></div>

    </div>

    <!-- =================================================
         UTILIZATION
    ================================================== -->
    <div class="row g-4">

  <!-- Utilization KPI -->
  <div class="col-md-4">
    <div id="utilizationStats"></div>
  </div>

  <!-- Break-even KPI -->
  <div class="col-md-4">
    <div id="breakEvenStats"></div>
  </div>

  <!-- Executive Insight -->
  <div class="col-md-4">
    <div id="breakEvenInsight"></div>
  </div>

</div>

    <!-- =================================================
         EXECUTIVE ACTION PANEL
    ================================================== -->
    <div
      class="tab-pane fade"
      id="execTab"
      role="tabpanel"
      aria-labelledby="exec-tab"
    >

      <div class="mb-3">
        <h6 class="mb-1">Executive Action Panel</h6>
        <small class="text-muted">
          Auto-generated leadership insights & recommendations
        </small>
      </div>

      <div id="executiveActions" class="row g-3">
        <div class="text-muted">
          Loading executive insightsâ€¦
        </div>
      </div>

    </div>

  </div>
</section>

<!-- ================= BOOTSTRAP JS ================= -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
></script>

<!-- ================= PAGE SCRIPT ================= -->
<script src="/assets/js/pages/analytics.js"></script>

</body>
</html>
